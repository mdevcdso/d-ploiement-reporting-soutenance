# name: Test Testapp.io Upload

# on:
#   workflow_dispatch:  # Déclenchement manuel seulement
#   push:
#     branches: 
#       - integration

# jobs:
#   test-testapp-upload:
#     runs-on: ubuntu-latest
    
#     steps:
#     - name: Checkout code
#       uses: actions/checkout@v4
        
#     - name: Verify APK exists in repository
#       run: |
#         echo "📦 Checking for existing APK in repository..."
        
#         # Chercher l'APK dans le projet
#         find . -name "*.apk" -type f
        
#         # Vérifier le chemin spécifique
#         if [ -f "app/release/app-release.apk" ]; then
#           echo "✅ APK found at: app/release/app-release.apk"
#           echo "📊 APK Size: $(ls -lh app/release/app-release.apk | awk '{print $5}')"
#         else
#           echo "❌ APK not found at app/release/app-release.apk"
#           echo "Available files in app/release/:"
#           ls -la app/release/ 2>/dev/null || echo "Directory app/release/ not found"
          
#           echo "Looking for APK files in entire project:"
#           find . -name "*.apk" -type f 2>/dev/null || echo "No APK files found in repository"
#         fi

#     - name: Upload artifact to TestApp.io
#       uses: testappio/github-action@v5
#       with:
#         api_token: ${{secrets.TESTAPPIO_API_TOKEN}}
#         app_id: ${{secrets.TESTAPPIO_APP_ID}}
#         file: app/release/app-release.apk
#         release_notes: ""
#         git_release_notes: true
#         include_git_commit_id: true
#         notify: true